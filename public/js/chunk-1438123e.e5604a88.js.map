{"version":3,"sources":["webpack:///./src/views/ViewPost.vue?9839","webpack:///./src/views/ViewPost.vue?8a04","webpack:///src/views/ViewPost.vue","webpack:///./src/views/ViewPost.vue?718d","webpack:///./src/views/ViewPost.vue?754d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","navigateBack","_v","_s","currentPost","title","author","text","$event","type","indexOf","_k","keyCode","key","submitComment","model","value","callback","$$v","expression","cancelComment","_l","comment","_id","allComments","length","oldVote","vote","upVotes","downVotes","haveVoted","isLoggedIn","_e","staticRenderFns","name","computed","votes","filter","res","thisVote","data","mounted","getAllComments","$route","params","postId","methods","$router","push","find","userId","voteValue","user","newVote","id","updatePost","post","branch","toLowerCase","username","createComment","then","success","component","VBtn","VCard","VCardSubtitle","VCardText","VCardTitle","VDivider","VIcon","VListItem","VListItemContent","VList","VListItemSubtitle","VTextField"],"mappings":"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","file":"js/chunk-1438123e.e5604a88.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPost.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewpost-view\"},[_c('v-icon',{staticStyle:{\"position\":\"absolute\",\"z-index\":\"2\",\"left\":\"2px\",\"top\":\"3px\",\"cursor\":\"pointer\"},attrs:{\"size\":\"42\",\"color\":\"primary\"},on:{\"click\":_vm.navigateBack}},[_vm._v(\" mdi-chevron-left-circle \")]),_c('div',{staticClass:\"post-container\"},[_c('div',{staticClass:\"container-left\"},[_c('v-card',{staticStyle:{\"z-index\":\"1\"},attrs:{\"elevation\":\"2\",\"min-width\":\"900\",\"max-width\":\"900\"}},[_c('v-card-title',[_vm._v(_vm._s(_vm.currentPost.title))]),_c('v-card-subtitle',[_vm._v(_vm._s(_vm.currentPost.author))]),_c('v-card-text',[_c('pre',[_vm._v(_vm._s(_vm.currentPost.text))])])],1),(_vm.isLoggedIn)?_c('div',{staticClass:\"comment\"},[_c('v-text-field',{staticStyle:{\"margin\":\"20px 0 0 5px\"},attrs:{\"placeholder\":\"Comment...\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitComment($event)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('div',{staticClass:\"comment-buttons\"},[_c('v-btn',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelComment}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.submitComment}},[_vm._v(\"Comment\")])],1)],1):_c('div',{staticClass:\"comment\"},[_c('p',{staticStyle:{\"margin\":\"20px 0 0 5px\"}},[_vm._v(\" Please \"),_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(\"sign in\")]),_vm._v(\" to vote and comment. \")],1)]),_c('div',{staticClass:\"comments\"},[[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"tile\":\"\"}},_vm._l((_vm.allComments),function(comment){return _c('div',{key:comment._id},[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(_vm._s(comment.author))]),_vm._v(\" \"+_vm._s(comment.text)+\" \")],1)],1),_c('v-divider',{staticStyle:{\"margin\":\"0 14px 0 14px\"}})],1)}),0)]],2)],1),_c('div',{staticClass:\"container-right\"},[_c('v-card',{attrs:{\"min-width\":\"300\"}},[_c('v-card-title',[_vm._v(\"Post Info\")]),_c('v-card-subtitle',[_vm._v(\"Some simple post data\")]),_c('div',{staticClass:\"post-info\"},[_c('v-icon',{attrs:{\"size\":\"32\",\"color\":\"blue\"}},[_vm._v(\" mdi-comment-multiple \")]),_c('span',{staticStyle:{\"margin-left\":\"10px\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.allComments.length)+\" \"),(_vm.allComments.length == 1)?_c('span',[_vm._v(\" comment\")]):_c('span',[_vm._v(\" comments\")])])],1),_c('div',{staticClass:\"post-votes\"},[_c('div',[_c('v-btn',{staticClass:\"mx-2\",attrs:{\"disabled\":_vm.oldVote === 1 || _vm.oldVote === 3,\"fab\":\"\",\"dark\":_vm.oldVote === 0 || _vm.oldVote === 2,\"small\":\"\",\"color\":\"green\",\"value\":\"1\"},on:{\"click\":function($event){return _vm.vote($event)}}},[_c('v-icon',[_vm._v(\" mdi-thumb-up \")])],1),_c('div',{staticClass:\"btn-text\",staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(_vm.upVotes))])],1),_c('div',[_c('v-btn',{staticClass:\"mx-2\",attrs:{\"disabled\":_vm.oldVote === 0 || _vm.oldVote === 3,\"fab\":\"\",\"dark\":_vm.oldVote === 1 || _vm.oldVote === 2,\"small\":\"\",\"color\":\"red\",\"value\":\"0\"},on:{\"click\":function($event){return _vm.vote($event)}}},[_c('v-icon',[_vm._v(\" mdi-thumb-down \")])],1),_c('div',{staticClass:\"btn-text\",staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.downVotes))])],1),(_vm.haveVoted && _vm.isLoggedIn)?_c('div',{staticClass:\"txt-small-vote\"},[_vm._v(\" You voted \"),_c('b',[(_vm.oldVote)?_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(\"up\")]):_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"down\")])]),_vm._v(\". \")]):(!_vm.isLoggedIn)?_c('div',{staticClass:\"txt-small-vote\"},[_vm._v(\" You are not logged in. \")]):_vm._e()])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"viewpost-view\">\n    <v-icon\n      size=\"42\"\n      color=\"primary\"\n      style=\"position: absolute; z-index: 2; left: 2px; top: 3px; cursor: pointer\"\n      @click=\"navigateBack\"\n    >\n      mdi-chevron-left-circle\n    </v-icon>\n    <div class=\"post-container\">\n      <div class=\"container-left\">\n        <v-card\n          elevation=\"2\"\n          style=\"z-index: 1;\"\n          min-width=\"900\"\n          max-width=\"900\"\n        >\n          <v-card-title>{{ currentPost.title }}</v-card-title>\n\n          <v-card-subtitle>{{ currentPost.author }}</v-card-subtitle>\n          <v-card-text\n            ><pre>{{ currentPost.text }}</pre></v-card-text\n          >\n        </v-card>\n        <div class=\"comment\" v-if=\"isLoggedIn\">\n          <v-text-field\n            style=\"margin: 20px 0 0 5px;\"\n            placeholder=\"Comment...\"\n            v-model=\"text\"\n            @keydown.enter=\"submitComment\"\n          ></v-text-field>\n          <div class=\"comment-buttons\">\n            <v-btn style=\"margin-right: 5px\" text @click=\"cancelComment\"\n              >Cancel</v-btn\n            >\n            <v-btn color=\"primary\" @click=\"submitComment\">Comment</v-btn>\n          </div>\n        </div>\n        <div v-else class=\"comment\">\n          <p style=\"margin: 20px 0 0 5px;\">\n            Please <router-link to=\"/login\">sign in</router-link> to vote and\n            comment.\n          </p>\n        </div>\n\n        <div class=\"comments\">\n          <template>\n            <v-card class=\"mx-auto\" tile>\n              <div v-for=\"comment in allComments\" :key=\"comment._id\">\n                <v-list-item>\n                  <v-list-item-content>\n                    <v-list-item-subtitle>{{\n                      comment.author\n                    }}</v-list-item-subtitle>\n                    {{ comment.text }}\n                  </v-list-item-content>\n                </v-list-item>\n                <v-divider style=\"margin: 0 14px 0 14px\"></v-divider>\n              </div>\n            </v-card>\n          </template>\n        </div>\n      </div>\n      <div class=\"container-right\">\n        <v-card min-width=\"300\">\n          <v-card-title>Post Info</v-card-title>\n          <v-card-subtitle>Some simple post data</v-card-subtitle>\n          <div class=\"post-info\">\n            <v-icon size=\"32\" color=\"blue\">\n              mdi-comment-multiple\n            </v-icon>\n            <span style=\"margin-left: 10px; font-size: 12px\"\n              >{{ allComments.length }}\n              <span v-if=\"allComments.length == 1\"> comment</span>\n              <span v-else> comments</span>\n            </span>\n          </div>\n          <div class=\"post-votes\">\n            <div>\n              <v-btn\n                class=\"mx-2\"\n                :disabled=\"oldVote === 1 || oldVote === 3\"\n                fab\n                :dark=\"oldVote === 0 || oldVote === 2\"\n                small\n                color=\"green\"\n                value=\"1\"\n                @click=\"vote($event)\"\n              >\n                <v-icon>\n                  mdi-thumb-up\n                </v-icon>\n              </v-btn>\n              <div class=\"btn-text\" style=\"color: green;\">{{ upVotes }}</div>\n            </div>\n            <div>\n              <v-btn\n                class=\"mx-2\"\n                :disabled=\"oldVote === 0 || oldVote === 3\"\n                fab\n                :dark=\"oldVote === 1 || oldVote === 2\"\n                small\n                color=\"red\"\n                value=\"0\"\n                @click=\"vote($event)\"\n              >\n                <v-icon>\n                  mdi-thumb-down\n                </v-icon>\n              </v-btn>\n              <div class=\"btn-text\" style=\"color: red;\">{{ downVotes }}</div>\n            </div>\n            <div class=\"txt-small-vote\" v-if=\"haveVoted && isLoggedIn\">\n              You voted\n              <b\n                ><span style=\"color: green\" v-if=\"oldVote\">up</span\n                ><span style=\"color: red\" v-else>down</span></b\n              >.\n            </div>\n            <div class=\"txt-small-vote\" v-else-if=\"!isLoggedIn\">\n              You are not logged in.\n            </div>\n          </div>\n        </v-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\n\nexport default {\n  name: \"ViewPost\",\n  computed: {\n    ...mapGetters([\"currentPost\", \"user\", \"allComments\", \"isLoggedIn\"]),\n    upVotes() {\n      return this.currentPost.votes.filter((vote) => vote.type === 1).length;\n    },\n    downVotes() {\n      return this.currentPost.votes.filter((vote) => vote.type === 0).length;\n    },\n    haveVoted() {\n      let res = this.currentPost.votes.find(\n        (vote) => vote.userId === this.user._id\n      );\n      if (res) {\n        return true;\n      }\n      return false;\n    },\n    oldVote() {\n      if (this.isLoggedIn) {\n        let res = this.haveVoted;\n        if (res) {\n          let thisVote = this.currentPost.votes.find(\n            (vote) => vote.type !== null && vote.userId == this.user._id\n          );\n          return thisVote.type;\n        } else {\n          return 2; // NOT VOTED YET\n        }\n      } else {\n        return 3; // NOT LOGGED IN\n      }\n    },\n  },\n  data() {\n    return {\n      text: null,\n    };\n  },\n  mounted() {\n    this.getAllComments(this.$route.params.postId);\n  },\n  methods: {\n    ...mapActions([\"getAllComments\", \"createComment\", \"updatePost\", \"getPost\"]),\n    navigateBack() {\n      this.$router.push(\"/community\");\n    },\n    vote(e) {\n      let voteValue = parseInt(e.currentTarget.value);\n\n      if (this.isLoggedIn) {\n        if (this.haveVoted === true) {\n          this.currentPost.votes.find((vote) => {\n            if (vote.userId === this.user._id) {\n              vote.type = voteValue;\n            }\n          });\n        } else {\n          let newVote = {\n            userId: this.user._id,\n            type: voteValue,\n          };\n          this.currentPost.votes.push(newVote);\n        }\n\n        let post = {\n          id: this.currentPost._id,\n          votes: this.currentPost.votes,\n        };\n        //maybe write async function to change record in db then reload\n        this.updatePost(post);\n      } else {\n        return;\n      }\n    },\n    cancelComment() {\n      this.text = null;\n    },\n    submitComment() {\n      let branch = this.currentPost;\n      // let branch = {\n      //   id: this.$route.params.postId,\n      //   type: this.$route.name.toLowerCase(),\n      // };\n\n      // branch.id = this.$route.params.postId;\n      branch.type = this.$route.name.toLowerCase();\n\n      let comment = {\n        text: this.text,\n        author: this.user.username ? this.user.username : \"Anonymous\",\n        userId: this.user._id ? this.user._id : \"\",\n        branch: branch,\n      };\n\n      this.createComment(comment).then((res) => {\n        if (res.data.success) {\n          this.getAllComments(this.$route.params.postId);\n          this.text = null;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.viewpost-view {\n  padding: 20px;\n\n  .post-votes {\n    padding: 15px 0 10px 5px;\n    display: flex;\n    // border: 1px solid black;\n\n    .btn-text {\n      text-align: center;\n      font-weight: 500;\n    }\n  }\n\n  .post-container {\n    display: flex;\n\n    .container-left {\n      .comment {\n        margin-bottom: 60px;\n        position: relative;\n        .comment-buttons {\n          position: absolute;\n          right: 0px;\n        }\n      }\n    }\n    .container-right {\n      margin-left: 20px;\n\n      .post-info {\n        padding: 0 0 0 15px;\n      }\n    }\n  }\n  .comments {\n    margin-top: 20px;\n    max-width: 900px;\n  }\n\n  pre {\n    font-size: 14px;\n    font-family: Arial, Helvetica, sans-serif;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    white-space: -moz-pre-wrap;\n    white-space: -pre-wrap;\n    white-space: -o-pre-wrap;\n    word-wrap: break-word;\n  }\n\n  .txt-small-vote {\n    font-size: 12px;\n    margin-right: auto;\n    margin-top: 15px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewPost.vue?vue&type=template&id=60e814b1&\"\nimport script from \"./ViewPost.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewPost.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewPost.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VDivider,VIcon,VListItem,VListItemContent,VListItemSubtitle,VTextField})\n"],"sourceRoot":""}